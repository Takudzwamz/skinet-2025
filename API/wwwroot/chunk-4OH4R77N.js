import{a as g}from"./chunk-IQPALILI.js";import{a as k}from"./chunk-MFNAXHXT.js";import{b as F}from"./chunk-T4IYHJKO.js";import{a as A}from"./chunk-5VUZ5DNG.js";import{B as v,C,F as S,I as x,J as h,L as y,N,P,T as U,X as q,w as B,y as p}from"./chunk-F4CYNXPO.js";import{Ea as _,Fa as E,Ha as M,Ia as I,Ja as D,Ka as s,La as t,Ma as r,Na as u,Q as n,Ta as d,Ua as L,Yc as b,_b as T,ac as f,gb as a,hb as G,ja as m,qa as c}from"./chunk-ICBD3D4S.js";var w=class o{fb=n(y);accountService=n(F);router=n(f);activatedRoute=n(T);returnUrl="/shop";constructor(){let i=this.activatedRoute.snapshot.queryParams.returnUrl;i&&(this.returnUrl=i)}loginForm=this.fb.group({email:[""],password:[""]});onSubmit(){this.accountService.login(this.loginForm.value).subscribe({next:()=>{this.accountService.getUserInfo().subscribe(),this.router.navigateByUrl(this.returnUrl)}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-login"]],decls:15,vars:1,consts:[[1,"max-w-lg","mx-auto","mt-32","p-8","bg-white"],[3,"ngSubmit","formGroup"],[1,"text-center","mb-6"],[1,"text-3xl","font-semibold","text-primary"],["appearance","outline",1,"w-full","mb-4"],["matInput","","formControlName","email","type","email","placeholder","name@example.com"],["appearance","outline",1,"w-full","mb-6"],["matInput","","formControlName","password","type","password","placeholder","Password"],["mat-flat-button","","type","submit","color","primary",1,"w-full","py-2"]],template:function(e,l){e&1&&(t(0,"mat-card",0)(1,"form",1),d("ngSubmit",function(){return l.onSubmit()}),t(2,"div",2)(3,"h1",3),a(4,"Login"),r()(),t(5,"mat-form-field",4)(6,"mat-label"),a(7,"Email address"),r(),u(8,"input",5),r(),t(9,"mat-form-field",6)(10,"mat-label"),a(11,"Password"),r(),u(12,"input",7),r(),t(13,"button",8),a(14,"Sign in"),r()()()),e&2&&(m(),s("formGroup",l.loginForm))},dependencies:[N,S,B,v,C,x,h,g,U,q,b,P],encapsulation:2})};function z(o,i){if(o&1&&(t(0,"li"),a(1),r()),o&2){let e=i.$implicit;m(),G(e)}}function H(o,i){if(o&1&&(t(0,"div",8)(1,"ul",10),I(2,z,2,1,"li",null,M),r()()),o&2){let e=L();m(2),D(e.validationErrors)}}var R=class o{fb=n(y);accountService=n(F);router=n(f);snack=n(k);validationErrors=[];registerForm=this.fb.group({firstName:["",p.required],lastName:["",p.required],email:["",[p.required,p.email]],password:["",[p.required]]});onSubmit(){this.accountService.register(this.registerForm.value).subscribe({next:()=>{this.snack.success("Registration successful - you can now login!"),this.router.navigateByUrl("/account/login")},error:i=>this.validationErrors=i})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-register"]],decls:12,vars:3,consts:[[1,"max-w-lg","mx-auto","mt-32","p-8","bg-white"],[3,"ngSubmit","formGroup"],[1,"text-center","mb-6"],[1,"text-3xl","font-semibold","text-primary"],["label","First name","formControlName","firstName"],["label","Last name","formControlName","lastName"],["label","Email address","formControlName","email"],["label","Password","formControlName","password","type","password"],[1,"mb-3","p-4","bg-red-100","text-red-500"],["mat-flat-button","","type","submit",1,"w-full","py-2",3,"disabled"],[1,"list-disc","px-3"]],template:function(e,l){e&1&&(t(0,"mat-card",0)(1,"form",1),d("ngSubmit",function(){return l.onSubmit()}),t(2,"div",2)(3,"h1",3),a(4,"Register"),r()(),u(5,"app-text-input",4)(6,"app-text-input",5)(7,"app-text-input",6)(8,"app-text-input",7),_(9,H,4,0,"div",8),t(10,"button",9),a(11,"Register"),r()()()),e&2&&(m(),s("formGroup",l.registerForm),m(8),E(l.validationErrors.length>0?9:-1),m(),s("disabled",l.registerForm.invalid))},dependencies:[g,N,S,v,C,x,h,b,A],encapsulation:2})};var ge=[{path:"login",component:w},{path:"register",component:R}];export{ge as accountRoutes};
